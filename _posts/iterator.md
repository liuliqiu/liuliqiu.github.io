# 迭代



### 1. 迭代的共性

##### 1.1 什么是迭代
> 迭代是重复反馈过程的活动，其目的通常是为了接近并到达所需的目标或结果。每一次对过程的重复被称为一次“迭代”，而每一次迭代得到的结果会被用来作为下一次迭代的初始值。

我们结合一个简单的程序来看这个定义，这个程序是求 0 到 9 的和。
```go
package main

func main() {
  sum := 0
  for i := 1; i < 10; i++ {
    sum += i
  }
  println(sum)
}
```
这里有一个迭代，每次迭代都会把 `sum` 增加 `i`，把 `i`增加一，这就是重复反馈过程的活动。这样经过 `n` 次迭代后 `sum` 都等于 `0` 到 `n` 的和，`i` 都等于 `n+1`，随着迭代的不断进行， `sum` 接近然后达到 `0` 到 `9` 的和。

可以看到迭代过程中，`i` 的值和 `sum` 的值在不断变化，

|       | 迭代前 | 1次迭代 | 2次迭代 | 3次迭代 | 4次迭代 | 5次迭代 | 6次迭代 | 7次迭代 | 8次迭代 | 9次迭代 |
| ----- | ------ | ------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `i`   | 1      | 2       | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10 |
| `sum` | 0      | 1 | 3 | 6 | 10 | 15 | 21 | 28 | 36 | 45 |




### 2. 迭代器模式


迭代的抽象

### 3. 抽象的作用

### 4. yield

### 5. 迭代与递归





```go
package main

func sum_slices(x []int) int {
	sum := 0
	for i := 0; i < len(x); i++ {
		val := x[i]
		sum += val
	}
	return sum
}

func main() {
	x := []int{1, 2, 3, 4, 5, 6}
	println(sum_slices(x))
}
```

go range 原理

https://garbagecollected.org/2017/02/22/go-range-loop-internals/  

https://github.com/golang/go/wiki/Range